<ion-card (click)="navigateToCard(sensor?.id)">
  <ion-card-header>
    <ion-card-title>{{ sensor?.name }}</ion-card-title>
    <ion-card-subtitle>{{ sensor?.location }}</ion-card-subtitle>
  </ion-card-header>
  <ion-list *ngIf="sensorData$ | async as sensorData">
    <ion-item
      lines="full"
      [ngClass]="{
        'primary-color': temperatureColor === 'primary',
        'danger-high-color': temperatureColor === 'danger-high',
        'danger-low-color': temperatureColor === 'danger-low'
      }"
    >
      <ion-text
        >{{
          sensorData.sensorDataValues[sensorData.sensorDataValues.length - 1]
            .temperature
        }}Â°C</ion-text
      >
      <ion-icon slot="start" name="thermometer-outline"></ion-icon>
    </ion-item>
    <ion-item
      lines="full"
      [ngClass]="{
        'primary-color': humidityColor === 'primary',
        'danger-high-color': humidityColor === 'danger-high',
        'danger-low-color': humidityColor === 'danger-low'
      }"
    >
      <ion-text
        >{{
          sensorData.sensorDataValues[sensorData.sensorDataValues.length - 1]
            .humidity
        }}%</ion-text
      >
      <ion-icon slot="start" name="water-outline"></ion-icon>
    </ion-item>
    <ion-item
      [disabled]="!sensor!.active_alerts"
      lines="full"
      [ngClass]="{
        'primary-color': alertColor === 'primary',
        'danger-high-color': alertColor === 'danger-high',
        'danger-low-color': alertColor === 'danger-low'
      }"
    >
      <ion-badge>{{ sensorData.alertFailIndexes.length }}</ion-badge>
      <ion-icon slot="start" name="alert-outline"></ion-icon>
      <ion-icon
        *ngIf="sensorData.alertsIncreasing && sensor!.active_alerts && sensorData.alertFailIndexes.length > 0"
        slot="end"
        color="danger"
        name="trending-up-outline"
      ></ion-icon>
      <ion-icon
        *ngIf="!sensorData.alertsIncreasing && sensor!.active_alerts && sensorData.alertFailIndexes.length > 0"
        slot="end"
        color="primary"
        name="trending-down-outline"
      ></ion-icon>
    </ion-item>
    <ion-item
      lines="full"
      [ngClass]="{
        'primary-color': sensor!.active,
        'danger-high-color': !sensor!.active
      }"
    >
      <div class="flex-colum">
        <ion-text>{{
          sensorData.sensorDataValues[sensorData.sensorDataValues.length - 1]
            .date_time | date: "HH:mm dd/MM/yyyy"
        }}</ion-text>
        <ion-note *ngIf="!sensor!.active">Sensor is not active</ion-note>
      </div>
      <ion-icon slot="start" name="time-outline"></ion-icon>
    </ion-item>
  </ion-list>
</ion-card>
